<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Carrito | Bloom Beauty</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&family=Playfair+Display:wght@500;600&display=swap" rel="stylesheet">

<style>

body{
    margin:0;
    font-family:'Poppins', sans-serif;
    background:linear-gradient(180deg,#fff,#fff0f6);
    color:#333;
}

.title{
    text-align:center;
    padding:40px;
    font-family:'Playfair Display', serif;
    font-size:28px;
}

.container{
    max-width:650px;
    margin:auto;
    padding:20px;
}

.item{
    background:white;
    padding:18px;
    border-radius:20px;
    margin-bottom:12px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    box-shadow:0 6px 12px rgba(0,0,0,0.05);
}

.nombre{
    font-weight:500;
}

.cantidad{
    font-size:14px;
    color:#777;
}

.eliminar{
    cursor:pointer;
    font-size:18px;
    color:#ff4da6;
}

.total{
    text-align:center;
    font-size:22px;
    margin-top:20px;
    font-weight:600;
}

button{
    margin-top:15px;
    width:100%;
    padding:14px;
    border:none;
    border-radius:25px;
    background:#f5a3c7;
    color:white;
    font-size:15px;
    cursor:pointer;
}

.ticket{
    background:white;
    padding:20px;
    border-radius:20px;
    margin-top:20px;
    box-shadow:0 6px 12px rgba(0,0,0,0.05);
    font-size:14px;
    line-height:1.6;
}

</style>
</head>

<body>

<div class="title">Tu Pedido üíñ</div>

<div class="container" id="lista"></div>
<div class="total" id="total"></div>

<div class="container">
<button onclick="enviarPedido()">Finalizar Pedido ‚ú®</button>
<button onclick="vaciar()">Vaciar carrito üóë</button>
</div>

<div class="container">
<div class="ticket" id="ticket"></div>
</div>

<script>

let carrito = JSON.parse(localStorage.getItem("carrito")) || [];

function mostrar(){

    const lista = document.getElementById("lista");
    const totalDiv = document.getElementById("total");
    const ticketDiv = document.getElementById("ticket");

    lista.innerHTML="";
    ticketDiv.innerHTML="";

    if(carrito.length===0){
        lista.innerHTML="Tu carrito est√° vac√≠o üíñ";
        totalDiv.innerHTML="";
        return;
    }

    let total=0;
    let ticket="üõç *Bloom Beauty*\n\n";

    carrito.forEach((p,index)=>{

        const subtotal = p.precio * p.cantidad;
        total+=subtotal;

        lista.innerHTML+=`
        <div class="item">
            <div>
                <div class="nombre">${p.nombre}</div>
                <div class="cantidad">Cantidad: ${p.cantidad}</div>
                <div>$${subtotal.toFixed(2)}</div>
            </div>
            <div class="eliminar" onclick="eliminar(${index})">
                ‚úñ
            </div>
        </div>`;

        ticket+=`‚Ä¢ ${p.nombre} x${p.cantidad} ‚Äî $${subtotal.toFixed(2)}\n`;
    });

    totalDiv.innerHTML=`Total: $${total.toFixed(2)} üíï`;

    ticket+=`\nüí∞ Total: $${total.toFixed(2)}`;

    ticketDiv.innerText=ticket;
}

function eliminar(index){

    carrito.splice(index,1);

    localStorage.setItem("carrito",JSON.stringify(carrito));

    mostrar();
}

function vaciar(){

    carrito=[];
    localStorage.removeItem("carrito");

    mostrar();
}

function enviarPedido(){

    const mensaje = document.getElementById("ticket").innerText;
    const numero = "593XXXXXXXXX"; // ‚Üê TU NUMERO

    window.open(`https://wa.me/${numero}?text=${encodeURIComponent(mensaje)}`);
}

mostrar();

</script>

</body>
</html>
